{% extends 'layout.html' %}
{% set active_nav = 'nav_index' %}

{% block title %}登录{% endblock %}

{% block content %}
<div class="container" ng-controller="LoginCtrl">
  <div class="jumbotron">
    <div class="row">
      <div class="col-lg-5 col-lg-offset-7">
        <ul class="nav nav-tabs">
          <li class="active"><a>登录</a></li>
          <li><a href="{{ url_for('auth.signup') }}">注册</a></li>
        </ul>

        <div class="tab-content">
          <div class="tab-pane active" id="login">
            <form class="form-horizontal" role="form" method="POST" action="{{ url_for('auth.login') }}">
              {{ login_form.hidden_tag() }}

              {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                  <div class="form-group">
                    {% for category, message in messages %}
                      <div class="col-lg-10 col-lg-offset-2">
                        <div class="alert {% if category == 'error' %}alert-danger{% endif %}">
                          {{ message }}
                        </div>
                      </div>
                    {% endfor %}
                  </div>
                {% endif %}
              {% endwith %}

              <div class="form-group">
                {{ login_form.login.label(class_="col-lg-2 control-label") }}
                <div class="col-lg-10">
                  {{ login_form.login(class_="form-control") }}
                </div>
              </div>
              <div class="form-group">
                {{ login_form.password.label(class_="col-lg-2 control-label") }}
                <div class="col-lg-10">
                  {{ login_form.password(class_="form-control") }}
                  <br><a href="{{ url_for('auth.forgot_password') }}">忘记密码？</a>
                </div>
              </div>
              <div class="form-group">
                <div class="col-lg-10 col-lg-offset-2">
                  <label class="checkbox-inline" for="{{ login_form.remember.id }}">
                    {{ login_form.remember }}{{ login_form.remember.label.text }}
                  </label>
                </div>
              </div>
              <div class="form-group">
                <div class="col-lg-10 col-lg-offset-2">
                  {{ login_form.submit(class_="btn btn-primary") }}
                  <a href="{{ url_for('auth.signup') }}" class="btn btn-link">没有帐号？点击注册</a>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="row pic-flow">
      <div class="col-lg-2">
        <a href="{{ url_for('home.not_ready') }}" class="thumbnail">
          <img src="/static/img/placeholder-135x93.gif" alt="">
        </a>
      </div>
      <div class="col-lg-2">
        <a href="{{ url_for('home.not_ready') }}" class="thumbnail">
          <img src="/static/img/placeholder-135x93.gif" alt="">
        </a>
      </div>
      <div class="col-lg-2">
        <a href="{{ url_for('home.not_ready') }}" class="thumbnail">
          <img src="/static/img/placeholder-135x93.gif" alt="">
        </a>
      </div>
      <div class="col-lg-2">
        <a href="{{ url_for('home.not_ready') }}" class="thumbnail">
          <img src="/static/img/placeholder-135x93.gif" alt="">
        </a>
      </div>
      <div class="col-lg-2">
        <a href="{{ url_for('home.not_ready') }}" class="thumbnail">
          <img src="/static/img/placeholder-135x93.gif" alt="">
        </a>
      </div>
      <div class="col-lg-2">
        <a href="{{ url_for('home.not_ready') }}" class="thumbnail">
          <img src="/static/img/placeholder-135x93.gif" alt="">
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
